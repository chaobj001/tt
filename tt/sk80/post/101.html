<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="generator" content="blog.sk80.com" /><meta name="keywords" content="SQL 语法参考:Mysql,MySQL " /><meta name="description" content="SQL 语法参考,一个Mysql自动备份脚本,又是MYSQL的问题!" /><meta name="author" content="4kychao" /><link rel="stylesheet" type="text/css" href="http://sk2.com/templates/default/style.css" /><title>SQL 语法参考</title></head><body><div id="wrapper"><div id="header"><div id="header-inner"><p class="sitename">blog.sk80.com</p><div class="description">等我有钱了, 咱买棒棒糖, 买2 根, 1 根 你看着我吃, 另1根 我吃给你看。</div><div class="menu"><ul><li class="current_page"><a rel="nofollow" href="/">日志</a></li><!--li><a href="#">About</a></li--></ul></div></div></div><div id="wrapper-inner"><p id="topic-path"><a href="/" rel="nofollow">Home</a>&gt;<a href="http://sk2.com/category/mysql/">Mysql</a>&gt;<strong class="current">SQL 语法参考</strong></p><ul id="flip1" class="flip"><li class="newer"><a title="一个Mysql自动备份脚本" href="http://sk2.com/post/102.html" rel="nofollow">Newer</a></li><li class="older"><a title="又是MYSQL的问题!" href="http://sk2.com/post/100.html" rel="nofollow">Older</a></li></ul><div id="detail"><div class="post"><h1>SQL 语法参考</h1><ul class="info"><li class="date">2010年 03月20日  17:48</li><li class="category"><a href="http://sk2.com/category/mysql/">Mysql</a></li></ul><div class="textbody">一、资料定义&nbsp;ｄｄｌ（data&nbsp;definition&nbsp;language)&nbsp;<br />资料定语言是指对资料的格式和形态下定义的语言，他是每个资料库要建立时候时首先要面对的，举凡资料分哪些表格关系、表格内的有什麽栏位主键、表格和表格之间互相参考的关系等等，都是在开始的时候所必须规划好的。<br /><br />１、建表格：<br />create&nbsp;table&nbsp;table_name(&nbsp;<br />column1&nbsp;datatype&nbsp;[not&nbsp;null]&nbsp;[not&nbsp;null&nbsp;primary&nbsp;key],&nbsp;<br />column2&nbsp;datatype&nbsp;[not&nbsp;null],<br />...）<br />说明：　<br />datatype&nbsp;--是资料的格式，详见表。<br />nut&nbsp;null&nbsp;--可不可以允许资料有空的（尚未有资料填入）。<br />primary&nbsp;key&nbsp;--是本表的主键。<br /><br />２、更改表格　<br />alter&nbsp;table&nbsp;table_name&nbsp;<br />add&nbsp;column&nbsp;column_name&nbsp;datatype&nbsp;<br />说明：增加一个栏位（没有删除某个栏位的语法。<br />alter&nbsp;table&nbsp;table_name<br />add&nbsp;primary&nbsp;key&nbsp;(column_name)<br />说明：更改表得的定义把某个栏位设为主键。<br />alter&nbsp;table&nbsp;table_name<br />drop&nbsp;primary&nbsp;key&nbsp;(column_name)<br />说明：把主键的定义删除。<br /><br />３、建立索引　<br />create&nbsp;index&nbsp;index_name&nbsp;on&nbsp;table_name&nbsp;(column_name)<br />说明：对某个表格的栏位建立索引以增加查询时的速度。<br /><br />４、删除　<br />drop&nbsp;table_name<br />drop&nbsp;index_name<br /><br />二、的资料形态&nbsp;datatypes<br />smallint<br />16&nbsp;位元的整数。<br />interger<br />32&nbsp;位元的整数。<br />decimal(p,s)<br />p&nbsp;精确值和&nbsp;s&nbsp;大小的十进位整数，精确值p是指全部有几个数(digits)大小值，s是指小数<br />点後有几位数。如果没有特别指定，则系统会设为&nbsp;p=5;&nbsp;s=0&nbsp;。&nbsp;<br />float<br />32位元的实数。<br />double<br />64位元的实数。<br />char(n)<br />n&nbsp;长度的字串，n不能超过&nbsp;254。<br />varchar(n)<br />长度不固定且其最大长度为&nbsp;n&nbsp;的字串，n不能超过&nbsp;4000。<br />graphic(n)<br />和&nbsp;char(n)&nbsp;一样，不过其单位是两个字元&nbsp;double-bytes，&nbsp;n不能超过127。这个形态是为<br />了支援两个字元长度的字体，例如中文字。<br />vargraphic(n)<br />可变长度且其最大长度为&nbsp;n&nbsp;的双字元字串，n不能超过&nbsp;2000。<br />date<br />包含了&nbsp;年份、月份、日期。<br />time<br />包含了&nbsp;小时、分钟、秒。<br />timestamp<br />包含了&nbsp;年、月、日、时、分、秒、千分之一秒。<br /><br />三、资料操作&nbsp;ｄｍｌ&nbsp;（data&nbsp;manipulation&nbsp;language)<br />资料定义好之後接下来的就是资料的操作。资料的操作不外乎增加资料（insert)、查询资料（query）、更改资料（update)&nbsp;、删除资料（delete）四种模式，以下分&nbsp;别介绍他们的语法：<br /><br />１、增加资料：<br />insert&nbsp;into&nbsp;table_name&nbsp;(column1,column2,...)<br />values&nbsp;(&nbsp;value1,value2,&nbsp;...)<br />说明：<br />1.若没有指定column&nbsp;系统则会按表格内的栏位顺序填入资料。<br />2.栏位的资料形态和所填入的资料必须吻合。<br />3.table_name&nbsp;也可以是景观&nbsp;view_name。<br /><br />insert&nbsp;into&nbsp;table_name&nbsp;(column1,column2,...)<br />select&nbsp;columnx,columny,...&nbsp;from&nbsp;another_table<br />说明：也可以经过一个子查询（subquery）把别的表格的资料填入。<br /><br />２、查询资料：<br />基本查询<br />select&nbsp;column1,columns2,...<br />from&nbsp;table_name<br />说明：把table_name&nbsp;的特定栏位资料全部列出来<br />select&nbsp;*<br />from&nbsp;table_name<br />where&nbsp;column1&nbsp;=&nbsp;xxx&nbsp;<br />[and&nbsp;column2&nbsp;&gt;;&nbsp;yyy]&nbsp;[or&nbsp;column3&nbsp;&lt;&gt;;&nbsp;zzz]<br />说明：<br />1.'*'表示全部的栏位都列出来。<br />2.where&nbsp;之後是接条件式，把符合条件的资料列出来。<br /><br />select&nbsp;column1,column2<br />from&nbsp;table_name<br />order&nbsp;by&nbsp;column2&nbsp;[desc]<br />说明：order&nbsp;by&nbsp;是指定以某个栏位做排序，[desc]是指从大到小排列，若没有指明，则是从小到大<br />排列<br /><br />组合查询<br />组合查询是指所查询得资料来源并不只有单一的表格，而是联合一个以上的<br />表格才能够得到结果的。<br />select&nbsp;*<br />from&nbsp;table1,table2<br />where&nbsp;table1.colum1=table2.column1<br />说明：<br />1.查询两个表格中其中&nbsp;column1&nbsp;值相同的资料。<br />2.当然两个表格相互比较的栏位，其资料形态必须相同。<br />3.一个复杂的查询其动用到的表格可能会很多个。<br /><br />整合性的查询：<br />select&nbsp;count&nbsp;(*)&nbsp;<br />from&nbsp;table_name<br />where&nbsp;column_name&nbsp;=&nbsp;xxx<br />说明：<br />查询符合条件的资料共有几笔。<br />select&nbsp;sum(column1)<br />from&nbsp;table_name<br />说明：<br />1.计算出总和，所选的栏位必须是可数的数字形态。<br />2.除此以外还有&nbsp;avg()&nbsp;是计算平均、max()、min()计算最大最小值的整合性查询。<br />select&nbsp;column1,avg(column2)<br />from&nbsp;table_name<br />group&nbsp;by&nbsp;column1<br />having&nbsp;avg(column2)&nbsp;&gt;;&nbsp;xxx<br />说明：<br />1.group&nbsp;by:&nbsp;以column1&nbsp;为一组计算&nbsp;column2&nbsp;的平均值必须和&nbsp;avg、sum等整合性查询的关键字<br />一起使用。&nbsp;<br />2.having&nbsp;:&nbsp;必须和&nbsp;group&nbsp;by&nbsp;一起使用作为整合性的限制。<br /><br />复合性的查询<br />select&nbsp;*<br />from&nbsp;table_name1<br />where&nbsp;exists&nbsp;(<br />select&nbsp;*<br />from&nbsp;table_name2<br />where&nbsp;conditions&nbsp;)<br />说明：<br />1.where&nbsp;的&nbsp;conditions&nbsp;可以是另外一个的&nbsp;query。<br />2.exists&nbsp;在此是指存在与否。<br />select&nbsp;*<br />from&nbsp;table_name1<br />where&nbsp;column1&nbsp;in&nbsp;(<br />select&nbsp;column1&nbsp;<br />from&nbsp;table_name2<br />where&nbsp;conditions&nbsp;)<br />说明：　<br />1.&nbsp;in&nbsp;後面接的是一个集合，表示column1&nbsp;存在集合里面。<br />2.&nbsp;select&nbsp;出来的资料形态必须符合&nbsp;column1。&nbsp;<br /><br />其他查询<br />select&nbsp;*<br />from&nbsp;table_name1<br />where&nbsp;column1&nbsp;like&nbsp;'x%'&nbsp;<br />说明：like&nbsp;必须和後面的'x%'&nbsp;相呼应表示以&nbsp;x为开头的字串。<br />select&nbsp;*<br />from&nbsp;table_name1<br />where&nbsp;column1&nbsp;in&nbsp;('xxx','yyy',..)<br />说明：in&nbsp;後面接的是一个集合，表示column1&nbsp;存在集合里面。<br />select&nbsp;*<br />from&nbsp;table_name1<br />where&nbsp;column1&nbsp;between&nbsp;xx&nbsp;and&nbsp;yy<br />说明：between&nbsp;表示&nbsp;column1&nbsp;的值介於&nbsp;xx&nbsp;和&nbsp;yy&nbsp;之间。&nbsp;<br /><br />３、更改资料：<br />update&nbsp;table_name<br />set&nbsp;column1='xxx'<br />where&nbsp;conditoins<br />说明：<br />1.更改某个栏位设定其值为'xxx'。<br />2.conditions&nbsp;是所要符合的条件、若没有&nbsp;where&nbsp;则整个&nbsp;table&nbsp;的那个栏位都会全部被更改。<br /><br />４、删除资料：<br />delete&nbsp;from&nbsp;table_name<br />where&nbsp;conditions<br />说明：删除符合条件的资料。<br /><br />说明：关于where条件后面如果包含有日期的比较，不同数据库有不同的表达式。具体如下：<br />(1)如果是access数据库，则为：where&nbsp;mydate&gt;;#2000-01-01#&nbsp;<br />(2)如果是oracle数据库，则为：where&nbsp;mydate&gt;;cast('2000-01-01'&nbsp;as&nbsp;date)<br />或：where&nbsp;mydate&gt;;to_date('2000-01-01','yyyy-mm-dd')<br />在delphi中写成：<br />thedate='2000-01-01';<br />query1.sql.add('select&nbsp;*&nbsp;from&nbsp;abc&nbsp;where&nbsp;mydate&gt;;cast('+''''+thedate+''''+'&nbsp;as&nbsp;date)');&nbsp;<br /><br />如果比较日期时间型，则为：<br />where&nbsp;mydatetime&gt;;to_date('2000-01-01&nbsp;10:00:01','yyyy-mm-dd&nbsp;hh24:mi:ss')</div><div class="entry-tags"><strong>Tags:</strong><a href="http://sk2.com/tag/MySQL/">MySQL</a></div></div><ul id="flip2" class="flip"><li>Newer:<a href="http://sk2.com/post/102.html">一个Mysql自动备份脚本</a></li><li>Older:<a href="http://sk2.com/post/100.html">又是MYSQL的问题!</a></li></ul></div>
<div id="footer"><div><a rel="nofollow" class="admin" href="http://sk2.com/login"><small>ADMIN</small></a><address>&copy; 2010 <a href='http://sk2.com/'>blog.sk80.com</a></address></div></div></div></div><script type="text/javascript" src="http://sk2.com/include/js/resize.js"></script><script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">try {var pageTracker = _gat._getTracker("UA-5695529-2");pageTracker._trackPageview();} catch(err) {}</script></body></html>

<script language="javascript" type="text/javascript" src="http://js.users.51.la/3688801.js"></script>
<noscript><a href="http://www.51.la/?3688801" target="_blank"><img alt="&#x6211;&#x8981;&#x5566;&#x514D;&#x8D39;&#x7EDF;&#x8BA1;" src="http://img.users.51.la/3688801.asp" style="border:none" /></a></noscript>