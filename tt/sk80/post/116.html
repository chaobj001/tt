<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="generator" content="blog.sk80.com" /><meta name="keywords" content="linux vi命令使用:Linux,命令 vim " /><meta name="description" content="linux vi命令使用,linux后台运行程序及恢复,安装centos5.2" /><meta name="author" content="4kychao" /><link rel="stylesheet" type="text/css" href="http://sk2.com/templates/default/style.css" /><title>linux vi命令使用</title></head><body><div id="wrapper"><div id="header"><div id="header-inner"><p class="sitename">blog.sk80.com</p><div class="description">等我有钱了, 咱买棒棒糖, 买2 根, 1 根 你看着我吃, 另1根 我吃给你看。</div><div class="menu"><ul><li class="current_page"><a rel="nofollow" href="/">日志</a></li><!--li><a href="#">About</a></li--></ul></div></div></div><div id="wrapper-inner"><p id="topic-path"><a href="/" rel="nofollow">Home</a>&gt;<a href="http://sk2.com/category/linux/">Linux</a>&gt;<strong class="current">linux vi命令使用</strong></p><ul id="flip1" class="flip"><li class="newer"><a title="linux后台运行程序及恢复" href="http://sk2.com/post/117.html" rel="nofollow">Newer</a></li><li class="older"><a title="安装centos5.2" href="http://sk2.com/post/115.html" rel="nofollow">Older</a></li></ul><div id="detail"><div class="post"><h1>linux vi命令使用</h1><ul class="info"><li class="date">2010年 03月23日  22:19</li><li class="category"><a href="http://sk2.com/category/linux/">Linux</a></li></ul><div class="textbody">vi是所有UNIX系统都会提供的屏幕编辑器，它提供了一个视窗设备，通过它可以编辑文件。当然，对UNIX系统略有所知的人，或多或少都觉得vi 超级难用，但vi是最基本的编辑器，所以希望读者能好好把它学起来，以后在UNIX世界里必将畅行无阻、游刃有余，因为其他几种文本处理器并非UNIX标准配备。说不定别人的Linux机器没安装joe或pico，如果您不会vi，那您可能就没辄了。<br /><br /><br />vi 的基本概念<br /><br />基本上vi可分为三种操作状态，分别是命令模式（Command mode）、插入模式（Insert mode）和底线命令模式（Last linemode），各模式的功能区分如下：<br />1． Comand mode：控制屏幕光标的移动，字符或光标的删除，移动复制某区段及进入Insert mode下，或者到Last line mode。<br />2． Insert mode：唯有在Insert mode下，才可做文字数据输入，按Esc等可回到Comandmode。<br />3． Last line mode：将储存文件或离开编辑器，也可设置编辑环境，如寻找字符串、列出行号等。<br />    不过可以把vi简化成两个模式，即是将Lastline mode也算入Commandmode,把vi分成Command 和Insert mode。<br /><br /><br />vi的基本操作<br /><br />• 进入vi<br />在系统提示符号输入vi及文件名称后，即可进入vi全屏幕编辑画面：<br />$ vi testfile<br />    有一点要特别注意，就是您进入vi之后是处于“Commandmode”下，您要切换到Insertmode才能输入文字。初次用vi的用户都会想先用上下左右键移动光标，结果电脑一直叫，把自己气个半死，所以进入vi后，先不要乱动，转换入Insert后再说。<br />• 切换至Insert mode编辑文件<br />    在Command mode下按‘i’、‘a’或‘o’三键就可进入Insert mode。这时候您就可以开始输入文字了。<br />i: 插入，从目前光标所在之处插入所输入的文字。<br />a: 增加，目前光标所在的下一个字开始输入文字。<br />o: 插入新的一行，从行首开始输入文字。<br />• Insert的切换→Command mode，按Esc键<br />您目前处于Insertmode，您就只能一直打字。假如您发现打错字了，想用光标键往回移动，将该字删除，就要按ESC键转换回Command mode，再删除文字。<br />• 离开vi及存文件<br />    在Command mode下，可按冒号“：”或“/”或“？”三键的其中一键进入Last line mode。例如：<br />:w filename (输入“w filename”，将文章存入指定的文件名filename)<br />:wq (输入“wq”，因为进入之时已经指定文件名testfile，所以会写入testfile并离开vi)<br />:q! (输入“q!”，强制离开并放弃编辑的文件)<br /><br />Command mode功能键列表<br /><br />在介绍command mode指令的时后，指令后面加上“常用”字眼的功能键，表示比较常用的vi指令，请读者您一定要学会、记住。<br />（1）I、 a、o切换进入Insert mode。[超级常用]<br />（2）移动光标<br />vi可以直接用键盘上的光标键来上下左右移动，但正规的vi是用小写英文字母<br />h、j、k、l，分别控制光标左、下、上、右移一格。<br />按Ctrl+B：屏幕往后移动一页。[常用]<br />按Ctrl+F：屏幕往前移动一页。[常用]<br />按Ctrl+U：屏幕往后移动半页。<br />按Ctrl+D：屏幕往前移动半页。<br />按 0 （数字零）：移动文章的开头。[常用]<br />按 G：移动到文章的最后。[常用]<br />按 w：光标跳到下个word的开头。[常用]<br />按 e：光标跳到下个word的字尾。<br />按 b：光标回到上个word的开头。<br />按 $：移到光标所在行的行尾。[常用]<br />按 ^：移到该行第一个非空白的字符。<br />按 0：移到该行的开头位置。[常用]<br />按 #：移到该行的第#个位置，例：51、121。[常用]<br />（3）删除文字<br />x：每按一次删除光标所在位置的后面一个字符。[超常用]<br />#x：例如，6x 表删除光标所在位置的后面6个字符。[常用]<br />X：大字的X，每按一次删除光标所在位置的前面一个字符。<br />#X：例如，20X 表删除光标所在位置的前面20个字符。<br />dd：删除光标所在行。[超常用]<br />#dd：例如，6dd表删除从光标所在的该行往下数6行之文字。[常用]<br />（4）复制<br />yw：将光标所在处到字尾的字符复制到缓冲区中。<br />（想在和#x、#X的功能相反）<br />p：将缓冲区内的字符粘贴到光标所在位置（指令‘yw’与‘p必须搭配使用）。<br />yy：复制光标所在行。[超常用]<br />p：复制单行到您想粘贴之处。（指令‘yy’与‘p’必须搭配使用）<br />#yy：如：6yy表示拷贝从光标所在的该行往下数6行之文字。[常用]<br />p:复制多行到您想粘贴之处。（指令‘#yy’与‘p’必须搭配使用）<br />“ayy：将复制行放入 buffera, vi提供buffer功能，可将常用的数据存在buffer<br />“ap：将放在buffer a的数据粘贴。<br />“b3yy：将三行数据存入bufferb。<br />“b3p：将存在buffer b的资料粘贴<br />（5）取代<br />r: 取代光标所在处的字符：[常用]<br />R：取代字符直到按Esc为止。<br />（6）复原（undo）上一个指令<br />u：假如您误操作一个指令，可以马上按u，回复到上一个操作。[超常用]<br />.: .可以重复执行上一次的指令。<br />（7）更改<br />cw：更改光标所在处的字到字尾$处。<br />c#w：例如，c3w代表更改3个字。<br />（8）跳至指定行<br />Ctrl+G：列出光标所在行的行号。<br />#G：例如，15G，表示移动光标至文章的第15行行首。[常用]<br /><br /><br />Last line mode下指令简介<br /><br />   读者您要使用Last line mode之前，请记得先按Esc键确定您已经处于Command mode下后，再按冒号“：”或“/”或“？”三键的其中一键进入Last line mode。<br />1．列出行号<br />set nu: 输入“setnu”后，会在文章的每一行前面列出行号。<br />2．跳到文章的某一行<br />#：井号代表一个数字，在Last line mode提示符号“：”前输入数字，再按Enter就会跳到该行了，如：15[Enter]就会跳到文章的第15行。[常用]<br />3．寻找字符串<br />/关键字：先按/，再输入您想寻找的字，如果第一次找的关键字不是您相尽可能的，可以一直按n会往下寻找到您要的关键字为止。<br />？关键字：先按？，再输入您想寻找的字，如果第一次找的关键字不是您想要的，可以按n会往前寻找到您要的关键字为止。<br />4．取代字符串<br />1，$s/string /replae/g：在last line mode输入“1，$s/string/replace/g”会将全文的string字符串取代为replace字符串，其中1,$s就是指搜寻区间为文章从头至尾的意思，g则是表示全部取代不必确认。<br />%s/string/replace/c：同样会将全文的string字符串取代为 replace字符串，和上面指令不同的地方是，%s和1,$s是相同的功能，c则是表示要替代之前必须再次确认是否取代。<br />1,20s/string /replace/g：将1至20行间的string替代为relpace字符串。<br />5．存文件<br />w：在last line mode提示符号“：”前按w即可将文件存起来。[超常用]<br />#，# w filename：如果您想摘取文章的某一段，存成另一个文件，可用这个指令#代表行号，例如30,50 wnice，将您正在编辑文章的第30~50行存成nice这个文件。<br />6．离开<br />q：按q就离开，有时如果无法离开vi，可搭配“！：强置离开vi，如“q！”<br />wq：一般建议离开时，搭配w一起使用，如此离开时还可存文件。[常用]<br /></div><div class="entry-tags"><strong>Tags:</strong><a href="http://sk2.com/tag/命令/">命令</a>,<a href="http://sk2.com/tag/vim/">vim</a></div></div><ul id="flip2" class="flip"><li>Newer:<a href="http://sk2.com/post/117.html">linux后台运行程序及恢复</a></li><li>Older:<a href="http://sk2.com/post/115.html">安装centos5.2</a></li></ul></div>
<div id="footer"><div><a rel="nofollow" class="admin" href="http://sk2.com/login"><small>ADMIN</small></a><address>&copy; 2010 <a href='http://sk2.com/'>blog.sk80.com</a></address></div></div></div></div><script type="text/javascript" src="http://sk2.com/include/js/resize.js"></script><script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">try {var pageTracker = _gat._getTracker("UA-5695529-2");pageTracker._trackPageview();} catch(err) {}</script></body></html>

<script language="javascript" type="text/javascript" src="http://js.users.51.la/3688801.js"></script>
<noscript><a href="http://www.51.la/?3688801" target="_blank"><img alt="&#x6211;&#x8981;&#x5566;&#x514D;&#x8D39;&#x7EDF;&#x8BA1;" src="http://img.users.51.la/3688801.asp" style="border:none" /></a></noscript>