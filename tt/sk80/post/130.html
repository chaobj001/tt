<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="generator" content="blog.sk80.com" /><meta name="keywords" content="linux常用svn命令:Linux,linux svn " /><meta name="description" content="linux常用svn命令,linux架设subversion(svn)版本控制,Subversion在Linux下的安装与使用(和Apache配套使用)" /><meta name="author" content="4kychao" /><link rel="stylesheet" type="text/css" href="http://sk2.com/templates/default/style.css" /><title>linux常用svn命令</title></head><body><div id="wrapper"><div id="header"><div id="header-inner"><p class="sitename">blog.sk80.com</p><div class="description">等我有钱了, 咱买棒棒糖, 买2 根, 1 根 你看着我吃, 另1根 我吃给你看。</div><div class="menu"><ul><li class="current_page"><a rel="nofollow" href="/">日志</a></li><!--li><a href="#">About</a></li--></ul></div></div></div><div id="wrapper-inner"><p id="topic-path"><a href="/" rel="nofollow">Home</a>&gt;<a href="http://sk2.com/category/linux/">Linux</a>&gt;<strong class="current">linux常用svn命令</strong></p><ul id="flip1" class="flip"><li class="newer"><a title="linux架设subversion(svn)版本控制" href="http://sk2.com/post/131.html" rel="nofollow">Newer</a></li><li class="older"><a title="Subversion在Linux下的安装与使用(和Apache配套使用)" href="http://sk2.com/post/129.html" rel="nofollow">Older</a></li></ul><div id="detail"><div class="post"><h1>linux常用svn命令</h1><ul class="info"><li class="date">2010年 03月24日  00:48</li><li class="category"><a href="http://sk2.com/category/linux/">Linux</a></li></ul><div class="textbody"><span style="color: rgb(136, 11, 243);">1、将文件checkout到本地目录</span><br />svn checkout path（path是服务器上的目录）<br />例如：svn checkout svn://192.168.1.1/pro/domain<br />简写：svn co<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(136, 11, 243);">&nbsp; 2、往版本库中添加新的文件</span><br />svn add file<br />例如：svn addtest.php(添加test.php)<br />svn add *.php(添加当前目录下所有的php文件)<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(136, 11, 243);">&nbsp;&nbsp;&nbsp; 3、将改动的文件提交到版本库</span><br />svn commit -m “LogMessage“ [-N] [--no-unlock] PATH(如果选择了保持锁，就使用–no-unlock开关)<br />例如：svn commit -m “add test file for my test“ test.php<br />简写：svn ci<br /><span style="color: rgb(136, 11, 243);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4、加锁/解锁</span><br />svn lock -m “LockMessage“ [--force] PATH<br />例如：svn lock -m “lock test file“ test.php<br />svn unlock PATH<br /><span style="color: rgb(136, 11, 243);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5、更新到某个版本</span><br />svn update -r m path<br />例如：<br />svn update如果后面没有目录，默认将当前目录以及子目录下的所有文件都更新到最新版本。<br />svn update -r 200 test.php(将版本库中的文件test.php还原到版本200)<br />svn update test.php(更新，于版本库同步。如果在提交的时候提示过期的话，是因为冲突，需要先update，修改文件，然后清除svn resolved，最后再提交commit)<br />简写：svn up<br /><span style="color: rgb(136, 11, 243);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6、查看文件或者目录状态</span><br />1）svn status path（目录下的文件和子目录的状态，正常状态不显示）<br />【?：不在svn的控制中；M：内容被修改；C：发生冲突；A：预定加入到版本库；K：被锁定】<br />2）svn status -v path(显示文件和子目录状态)<br />第一列保持相同，第二列显示工作版本号，第三和第四列显示最后一次修改的版本号和修改人。<br />注：svn status、svn diff和 svn revert这三条命令在没有网络的情况下也可以执行的，原因是svn在本地的.svn中保留了本地版本的原始拷贝。<br />简写：svn st<br />&nbsp;<span style="color: rgb(136, 11, 243);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7、删除文件</span><br />svn delete path -m “delete test fle“<br />例如：svn delete svn://192.168.1.1/pro/domain/test.php -m “delete test file”<br />或者直接svn delete test.php 然后再svn ci -m ‘delete test file‘，推荐使用这种<br />简写：svn (del, remove, rm)<br /><span style="color: rgb(136, 11, 243);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8、查看日志</span><br />svn log path<br />例如：svn log test.php 显示这个文件的所有修改记录，及其版本号的变化<br /><span style="color: rgb(136, 11, 243);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 9、查看文件详细信息</span><br />svn info path<br />例如：svn info test.php<br /><span style="color: rgb(136, 11, 243);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10、比较差异</span><br />svn diff path(将修改的文件与基础版本比较)<br />例如：svn diff test.php<br />svn diff -r m:n path(对版本m和版本n比较差异)<br />例如：svn diff -r 200:201 test.php<br />简写：svn di<br />&nbsp;&nbsp;&nbsp;<span style="color: rgb(136, 11, 243);">&nbsp;&nbsp;&nbsp;&nbsp; 11、将两个版本之间的差异合并到当前文件</span><br />svn merge -r m:n path<br />例如：svn merge -r 200:205 test.php（将版本200与205之间的差异合并到当前文件，但是一般都会产生冲突，需要处理一下）<br /><span style="color: rgb(136, 11, 243);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 12、SVN 帮助</span><br />svn help<br />svn help ci<br /><span style="color: rgb(255, 0, 0);"><span style="color: rgb(255, 0, 255);">——————————————————————————<br />以上是常用命令，下面写几个不经常用的<br />——————————————————————————</span><br /></span><span style="color: rgb(136, 11, 243);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 13、版本库下的文件和目录列表</span><br />svn list path<br />显示path目录下的所有属于版本库的文件和目录<br />简写：svn ls<br /><span style="color: rgb(136, 11, 243);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 14、创建纳入版本控制下的新目录</span><br />svn mkdir: 创建纳入版本控制下的新目录。<br />用法:&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1、mkdir PATH…<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2、mkdir URL…<br />创建版本控制的目录。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1、每一个以工作副本 PATH 指定的目录，都会创建在本地端，并且加入新增调度，以待下一次的提交。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2、每个以URL指定的目录，都会透过立即提交于仓库中创建。在这两个情况下，所有的中间目录都必须事先存在。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(136, 11, 243);"> 15、恢复本地修改</span><br /><div>svn revert: 恢复原始未改变的工作副本文件 (恢复大部份的本地修改)。revert:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 用法: revert PATH…<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 注意: 本子命令不会存取网络，并且会解除冲突的状况。但是它不会恢复被删除的目录<br />&nbsp;<span style="color: rgb(136, 11, 243);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 16、代码库URL变更</span></div><br /><div>svn switch (sw): 更新工作副本至不同的URL。<br />用法: 1、switch URL [PATH]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2、switch –relocate FROM TO [PATH...]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1、更新你的工作副本，映射到一个新的URL，其行为跟“svn update”很像，也会将服务器上文件与本地文件合并。这是将工作副本对应到同一仓库中某个分支或者标记的方法。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2、改写工作副本的URL元数据，以反映单纯的URL上的改变。当仓库的根URL变动(比如方案名或是主机名称变动)，但是工作副本仍旧对映到同一仓库的同一目录时使用这个命令更新工作副本与仓库的对应关系。<br /><span style="color: rgb(136, 11, 243);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 17、解决冲突</span><br />svn resolved: 移除工作副本的目录或文件的“冲突”状态。<br />用法: resolved PATH…<br />注意: 本子命令不会依语法来解决冲突或是移除冲突标记；它只是移除冲突的<br />相关文件，然后让 PATH 可以再次提交。<br /><span style="color: rgb(136, 11, 243);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 18、输出指定文件或URL的内容。<br /></span>svn cat 目标[@版本]…如果指定了版本，将从指定的版本开始查找。<br />svn cat -r PREV filename &gt; filename (PREV 是上一版本,也可以写具体版本号,这样输出结果是可以提交的) </div><br /><br /><br />                    <p class="right articalinfo"><br /></p></div><div class="entry-tags"><strong>Tags:</strong><a href="http://sk2.com/tag/linux/">linux</a>,<a href="http://sk2.com/tag/svn/">svn</a></div></div><ul id="flip2" class="flip"><li>Newer:<a href="http://sk2.com/post/131.html">linux架设subversion(svn)版本控制</a></li><li>Older:<a href="http://sk2.com/post/129.html">Subversion在Linux下的安装与使用(和Apache配套使用)</a></li></ul></div>
<div id="footer"><div><a rel="nofollow" class="admin" href="http://sk2.com/login"><small>ADMIN</small></a><address>&copy; 2010 <a href='http://sk2.com/'>blog.sk80.com</a></address></div></div></div></div><script type="text/javascript" src="http://sk2.com/include/js/resize.js"></script><script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">try {var pageTracker = _gat._getTracker("UA-5695529-2");pageTracker._trackPageview();} catch(err) {}</script></body></html>

<script language="javascript" type="text/javascript" src="http://js.users.51.la/3688801.js"></script>
<noscript><a href="http://www.51.la/?3688801" target="_blank"><img alt="&#x6211;&#x8981;&#x5566;&#x514D;&#x8D39;&#x7EDF;&#x8BA1;" src="http://img.users.51.la/3688801.asp" style="border:none" /></a></noscript>