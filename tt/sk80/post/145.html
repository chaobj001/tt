<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="generator" content="blog.sk80.com" /><meta name="keywords" content="httpd: apr_sockaddr_info_get() failed for apache 启动问题:Linux," /><meta name="description" content="httpd: apr_sockaddr_info_get() failed for apache 启动问题,nginx apache svn配置,搭环境遇到的问题" /><meta name="author" content="4kychao" /><link rel="stylesheet" type="text/css" href="http://sk2.com/templates/default/style.css" /><title>httpd: apr_sockaddr_info_get() failed for apache 启动问题</title></head><body><div id="wrapper"><div id="header"><div id="header-inner"><p class="sitename">blog.sk80.com</p><div class="description">等我有钱了, 咱买棒棒糖, 买2 根, 1 根 你看着我吃, 另1根 我吃给你看。</div><div class="menu"><ul><li class="current_page"><a rel="nofollow" href="/">日志</a></li><!--li><a href="#">About</a></li--></ul></div></div></div><div id="wrapper-inner"><p id="topic-path"><a href="/" rel="nofollow">Home</a>&gt;<a href="http://sk2.com/category/linux/">Linux</a>&gt;<strong class="current">httpd: apr_sockaddr_info_get() failed for apache 启动问题</strong></p><ul id="flip1" class="flip"><li class="newer"><a title="nginx apache svn配置" href="http://sk2.com/post/146.html" rel="nofollow">Newer</a></li><li class="older"><a title="搭环境遇到的问题" href="http://sk2.com/post/144.html" rel="nofollow">Older</a></li></ul><div id="detail"><div class="post"><h1>httpd: apr_sockaddr_info_get() failed for apache 启动问题</h1><ul class="info"><li class="date">2010年 03月28日  02:52</li><li class="category"><a href="http://sk2.com/category/linux/">Linux</a></li></ul><div class="textbody"><div id="blog_text" class="cnt"><p>httpd: apr_sockaddr_info_get() failed for hoteel</p><br /><p>httpd: Could not reliably determine the server's fully qualified domain name, using 127.0.0.1 for ServerName</p><br /><p>我在service httpd restart的时候提示上述信息的。虽然启动成功了，但是也是很郁闷的。</p><br /><p>这是因为我在配置DNS的时候hostname hoteel造成的。</p><br /><p>重新hostname localhost就可以了。</p><br /><p>我在网上找来一些有关这方面的信息，就顺便贴在这里了。</p><br /><p><span style="font-size:large;color:#ff0000;">1<br /><br /></span>在啟動 httpd 時出現</p><br /><p>Starting httpd: httpd: apr_sockaddr_info_get() failed for MYHOST<br /><br />httpd: Could not reliably determine the server's fully qualified domain name, using 127.0.0.1 for ServerName.</p><br /><p>這個問題應該是沒有在 /etc/httpd/conf/httpd.conf 中設定 ServerName 所以它會用主機上的名稱來取代，首先會去找 /etc/hosts 中有沒有主機的定義。</p><br /><p>所以要解決這個問題可以設定 ServerName 或者在 /etc/hosts 中填入自己的主機名稱 MYHOST，像這樣：</p><br /><p>&gt;vi /etc/hosts</p><br /><p>127.0.0.1 localhost.localdomain localhost MYHOST<br /><br /><br /><br /><span style="font-size:large;color:#ff0000;">2</span></p><br /><div class="t_msgfont">在<span class="t_tag" href="http://www.linuxdiyf.com/bbs/tag.php?name=Linux">Linux</span>下<span class="t_tag" href="http://www.linuxdiyf.com/bbs/tag.php?name=%B0%B2%D7%B0">安装</span>完Apache 2.2.6，启动HTTP服务就报错，似乎不影响服务的使用，但是也挺别扭的。<br /><br /><br /><br />[root@linux http]# ./apachectl start<br /><br />httpd: apr_sockaddr_info_get() failed for linux(在BSD上是apr_sockaddr_info_get() failed for freebsdla)<br /><br />httpd: Could not reliably determine the server's fully qualified domain name, using 127.0.0.1 for ServerName<br /><br /><br /><br />经分析发现是apache的conf目录下的配置<span class="t_tag" href="http://www.linuxdiyf.com/bbs/tag.php?name=%CE%C4%BC%FE">文件</span>httpd.conf中关于hostname设置和/etc/sysconfig/network中的HOSTNAME设置不统一导致的，修改成统一的主机名即可解决该问题。<br /><br /><br /><br />注：/etc/sysconfig/network 默认主机名是：HOSTNAME=localhost.localdomain<br /><br /><br /><br />PS：网上有这种办法，似乎是没用的，因为我认为apache在编译安装过程中会编译ARP的，因此下述操作有点多余。<br /><br /><br /><br />apr和apr-util包含在Apache httpd的发行源代码中，并且在绝大多数情况下使用都不会出现问题。当然，如果apr或apr-util的1.0或1.1版本已经安装在你的<span class="t_tag" href="http://www.linuxdiyf.com/bbs/tag.php?name=%CF%B5%CD%B3">系统</span>中了，则必须将你的apr/apr-util升级到1.2版本，或者将httpd单独分开编译。要使用发行源代码中自带的apr/apr-util源代码进行安装，你必须手动完成： <br /><br /><br /><br /># 编译和安装 apr 1.2<br /><br /><br /><br /><br /><br /><pre>apr<br />./configure --prefix=/x/httpd/apr<br />make<br />make install<br /><br />apr-util<br />./configure --prefix=/x/httpd/apr_util --with-apr=/x/httpd/apr <br /><span style="color:#0000ff;"><code>make<br />make install<br /><br />apache<br /></code></span><span style="font-size:medium;color:#0000ff;">./configure --prefix=/x/httpd/apache2 \<br /> --enable-so \<br /> --enable-cgi \<br /> --enable-rewrite \<br /> --enable-mods-shared=all \</span><br /><span style="color:#0000ff;"><code>--with-apr=/x/httpd/apr \<br />--with-apr-util=/x/httpd/apr_util<br /></code></span></pre><br /><br /><br /><br /><br /><pre>LDFLAGS="-L/usr/lib64 -L/lib64"</pre><br /><br /></div></div></div></div><ul id="flip2" class="flip"><li>Newer:<a href="http://sk2.com/post/146.html">nginx apache svn配置</a></li><li>Older:<a href="http://sk2.com/post/144.html">搭环境遇到的问题</a></li></ul></div>
<div id="footer"><div><a rel="nofollow" class="admin" href="http://sk2.com/login"><small>ADMIN</small></a><address>&copy; 2010 <a href='http://sk2.com/'>blog.sk80.com</a></address></div></div></div></div><script type="text/javascript" src="http://sk2.com/include/js/resize.js"></script><script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">try {var pageTracker = _gat._getTracker("UA-5695529-2");pageTracker._trackPageview();} catch(err) {}</script></body></html>

<script language="javascript" type="text/javascript" src="http://js.users.51.la/3688801.js"></script>
<noscript><a href="http://www.51.la/?3688801" target="_blank"><img alt="&#x6211;&#x8981;&#x5566;&#x514D;&#x8D39;&#x7EDF;&#x8BA1;" src="http://img.users.51.la/3688801.asp" style="border:none" /></a></noscript>