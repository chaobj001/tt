<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="generator" content="blog.sk80.com" /><meta name="keywords" content="常用sql 命令(2):Mysql,命令 sql " /><meta name="description" content="常用sql 命令(2),MYSQL常用SQL命令（3）,常用sql命令列表" /><meta name="author" content="4kychao" /><link rel="stylesheet" type="text/css" href="http://sk2.com/templates/default/style.css" /><title>常用sql 命令(2)</title></head><body><div id="wrapper"><div id="header"><div id="header-inner"><p class="sitename">blog.sk80.com</p><div class="description">等我有钱了, 咱买棒棒糖, 买2 根, 1 根 你看着我吃, 另1根 我吃给你看。</div><div class="menu"><ul><li class="current_page"><a rel="nofollow" href="/">日志</a></li><!--li><a href="#">About</a></li--></ul></div></div></div><div id="wrapper-inner"><p id="topic-path"><a href="/" rel="nofollow">Home</a>&gt;<a href="http://sk2.com/category/mysql/">Mysql</a>&gt;<strong class="current">常用sql 命令(2)</strong></p><ul id="flip1" class="flip"><li class="newer"><a title="MYSQL常用SQL命令（3）" href="http://sk2.com/post/128.html" rel="nofollow">Newer</a></li><li class="older"><a title="常用sql命令列表" href="http://sk2.com/post/126.html" rel="nofollow">Older</a></li></ul><div id="detail"><div class="post"><h1>常用sql 命令(2)</h1><ul class="info"><li class="date">2010年 03月24日  00:06</li><li class="category"><a href="http://sk2.com/category/mysql/">Mysql</a></li></ul><div class="textbody"><div class="t_msgfont" id="postmessage_663896">一、连接My&lt;span class="t_tag" .click="tagshow(event)" href="http://home.phpchina.com/tag.php?name=SQL"&gt;SQL<br /><br />　　格式： &lt;span class="t_tag" .click="tagshow(event)" href="http://home.phpchina.com/tag.php?name=mysql"&gt;mysql -h主机地址 -u用户名 －p用户密码<br /><br />　　1、例1：连接到本机上的MYSQL。<br /><br />　<br />　首先在打开DOS窗口，然后进入目录 mysqlbin，再键入命令mysql -uroot<br />-p，回车后提示你输密码，如果刚安装好MYSQL，超级用户root是没有密码的，故直接回车即可进入到MYSQL中了，MYSQL的提示符<br />是：mysql&amp;gt;。<br /><br />　　2、例2：连接到远程主机上的MYSQL。假设远程主机的IP为：110.110.110.110，用户名为root,密码为abcd123。则键入以下命令：<br /><br />　　mysql -h110.110.110.110 -uroot -pabcd123<br /><br />　　（注:u与root可以不用加空格，其它也一样）<br /><br />　　3、退出MYSQL命令： exit （回车）。<br /><br />　　二、修改密码<br /><br />　　格式：mysqladmin -u用户名 -p旧密码 password 新密码<br /><br />　　1、例1：给root加个密码ab12。首先在DOS下进入目录mysqlbin，然后键入以下命令：<br /><br />　　mysqladmin -uroot -password ab12<br /><br />　　注：因为开始时root没有密码，所以-p旧密码一项就可以省略了。<br /><br />　　2、例2：再将root的密码改为djg345。<br /><br />　　mysqladmin -uroot -pab12 password djg345<br /><br />　　三、增加新用户。（注意：和上面不同，下面的因为是MySQL环境中的命令，所以后面都带一个分号作为命令结束符）<br /><br />　　格式：grant select on &lt;span class="t_tag" .click="tagshow(event)" href="http://home.phpchina.com/tag.php?name=%CA%FD%BE%DD%BF%E2"&gt;数据库.* to 用户名@登录主机 identified by \"密码\"<br /><br />　　例1、增加一个用户&lt;span class="t_tag" .click="tagshow(event)" href="http://home.phpchina.com/tag.php?name=test"&gt;test1密码为abc，让他可以在任何主机上登录，并对所有数据库有查询、插入、修改、删除的权限。首先用以root用户连入MySQL，然后键入以下命令：<br /><br />　　grant select,insert,update,<br /><br />　　delete on *.* to test1@\"%\" Identified by \"abc\";<br /><br />　　但例1增加的用户是十分危险的，你想如某个人知道test1的密码，那么他就可以在internet上的任何一台电脑上登录你的MySQL数据库并对你的数据可以为所欲为了，解决办法见例2。<br /><br />　<br />　例2、增加一个用户test2密码为abc,让他只可以在localhost上登录，并可以对数据库mydb进行查询、插入、修改、删除的操作<br />（localhost指本地主机，即MySQL数据库所在的那台主机），这样用户即使用知道test2的密码，他也无法从internet上直接访问数据<br />库，只能通过MySQL主机上的web页来访问。<br /><br />　　grant select,insert,update,<br /><br />　　delete on mydb.* to test2@localhost identified by \"abc\";<br /><br />　　如果你不想test2有密码，可以再打一个命令将密码消掉。<br /><br />　　grant select,insert,update,delete on mydb<br /><br />　　.* to test2@localhost identified by \"\";<br /><br />　　在上面讲了登录、增加用户、密码更改等问题。下面我们来看看MySQL中有关数据库方面的操作。注意：你必须首先登录到MySQL中，以下操作都是在MySQL的提示符下进行的，而且每个命令以分号结束。</div><br /><div></div><br /><div></div><br /><div></div><br /><br /><div class="t_msgfont" id="postmessage_663898">一、操作技巧<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;1、如果你打命令时，回车后发现忘记加分号，你无须重打一遍命令，只要打个分号回车就可以了。也就是说你可以把一个完整的命令分成几行来打，完后用分号作结束标志就完成。<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;2、你可以使用光标上下键调出以前的命令。但以前我用过的一个MySQL旧版本不支持。我现在用的是mysql-3.23.27-beta-win。<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;二、显示命令<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;1、显示数据库列表：<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;show databases;<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;刚开始时才两个数据库：mysql和test。MySQL库很重要它里面有MYSQL的系统信息，我们改密码和新增用户，实际上就是用这个库进行操作。<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;2、显示库中的数据表：<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;use mysql； ／／打开库，学过FOXBASE的一定不会陌生吧<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;show tables;<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;3、显示数据表的结构：<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;describe 表名;<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;4、建库：<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;create database 库名;<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;5、建表：<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;use 库名；<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;create table 表名 (字段设定列表)；<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;6、删库和删表:<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;drop database 库名;<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;drop table 表名；<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;7、将表中记录清空：<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;delete from 表名;<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;8、显示表中的记录：<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;select * from 表名;<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;三、一个建库和建表以及插入数据的实例<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;drop database if exists school; //如果存在SCHOOL则删除<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;create database school; //建立库SCHOOL<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;use school; //打开库SCHOOL<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;create table teacher //建立表TEACHER<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;(<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;id int(3) auto_increment not null primary key,<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;name char(10) not null,<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;address varchar(50) default ’深圳’,<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;year date<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;); //建表结束<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//以下为插入字段<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;insert into teacher values(’’,’glchengang’,’深圳一中’,’1976-10-10’);<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;insert into teacher values(’’,’jack’,’深圳一中’,’1975-12-23’);<br /><br />&nbsp;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;注：在建表中（1）将ID设为长度为3的数字字段:int(3)并让它每个记录自动加一:auto_increment并不能为空:not<br />null而且让他成为主字段primary<br />key（2）将NAME设为长度为10的字符字段（3）将ADDRESS设为长度50的字符字段，而且缺省值为深圳。varchar和char有什么区别<br />呢，只有等以后的文章再说了。（4）将YEAR设为日期字段。<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;如果你在MySQL提示符键入上面的命令也可以，但不方便调试。你可以将以上命令原样写入一个文本文件中假设为school.sql，然后复制到c:\\下，并在DOS状态进入目录\\mysql\\bin，然后键入以下命令：<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;mysql -uroot -p密码 &lt; c:\\school.sql<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;如果成功，空出一行无任何显示；如有错误，会有提示。（以上命令已经调试，你只要将//的注释去掉即可使用）。</div><br /><div></div><br /><br /><div class="t_msgfont" id="postmessage_663899">四、将文本数据转到数据库中<br /><br />　　1、文本数据应符合的格式：字段数据之间用tab键隔开，null值用\\n来代替。<br /><br />　　例：<br /><br />　　3 rose 深圳二中 1976-10-10<br /><br />　　4 mike 深圳一中 1975-12-23<br /><br />　　2、数据传入命令 load data local infile \"文件名\" into table 表名。<br /><br />　　注意：你最好将文件复制到\\mysql\\bin目录下，并且要先用use命令打表所在的库。<br /><br />　　五、备份数据库：<br /><br />　　1、mysqldump --opt school&gt;school.bbb<br /><br />　　mysqldump --opt school&amp;gt;school.bbb<br /><br />　　（命令在DOS的\\mysql\\bin目录下执行）<br /><br />　　注释:将数据库school备份到school.bbb文件，school.bbb是一个文本文件，文件名任取，打开看看你会有新发现。<br /><br />　<br />　后记：其实MySQL的对数据库的操作与其它的SQL类数据库大同小异，您最好找本将SQL的书看看。我在这里只介绍一些基本的，其实我也就只懂这些<br />了，<br />呵呵。最好的MYSQL教程还是“晏子“译的“MYSQL中文参考手册“不仅免费每个相关网站都有下载，而且它是最权威的。可惜不是象\"PHP4中文手<br />册\"那样是chm的格式，在查找函数命令的时候不太方便。<br /><br />　　2、修改登录密码<br /><br />　　1) mysqladmin -u用户名 -p旧密码 password 新密码:<br /><br />　　例：mysqladmin -u root password 21century<br /><br />　　注：因为开始时root没有密码，所以-p旧密码一项就可以省略了。<br /><br />　　2)直接修改user表的root用户口令：<br /><br />　　mysql&amp;gt; user mysql;<br /><br />　　mysql&amp;gt; update user set pasword=password('21century') where user='root';<br /><br />　　mysql&amp;gt; flush privileges;<br /><br />　　注：flush privileges的意思是强制刷新内存授权表，否则用的还是缓冲中的口令。<br /><br />　　3、测试密码是否修改成功:<br /><br />　　1）不用密码登录:<br /><br />　　[root@test1 local]# mysql<br /><br />　　ERROR 1045: Access denied for user: 'root@localhost' (Using password: NO)<br /><br />　　显示错误，说明密码已经修改。<br /><br />　　2）用修改后的密码登录:<br /><br />　　[root@test1 local]# mysql -u root -p<br /><br />　　Enter password: (输入修改后的密码21century)<br /><br />　　Welcome to the MySQL monitor. Commands end with ; or \g.<br /><br />　　Your MySQL connection id is 177 to server version: 3.23.48<br /><br />　　Type 'help;' or '\h' for help. Type '\c' to clear the buffer.<br /><br />　　mysql&amp;gt;<br /><br />　　成功！<br /><br />　　这是通过mysqladmin命令修改口令，也可通过修改库来更改口令。<br /><br />　　4、启动和停止:<br /><br />　　启动：Mysql从3.23.15版本开始作了改动，默认安装后服务要用MySQL用户来启动，不允许root用户启动。<br /><br />　　如果非要用root用户来启动，必须加上--user=root参数(./safe_mysqld --user=root &amp;)停止：mysqladmin -u root -p shutdown。<br /><br />　　5、导出meeting数据库：<br /><br />　　mysqldump -uroot -p21century meeting &amp;gt; db_meeting.sql<br /><br />　　导人dbname数据库:<br /><br />　　mysqldump -uroot -p21century dbname &amp;lt; xxx.sql<br /><br />　　导入数据库还可用类似于oracle中@my_script.sql的方式一次执行大量sql语句，这在使用mysqldump不起作用时非常有用。<br /><br />　　例：#./mysql -uroot -p &amp;lt; /home/xuys/db_meeting_2003.sql<br /><br />　　(注：create database、use databasename、create table和insert into语句都可写在上面的脚步文件中)<br /><br />　　6、给表改名:<br /><br />　　RENAME TABLE ztemp TO ztemp4;<br /><br />　　7、修改字段属性：<br /><br />　　ALTER TABLE bbabase CHANGE news_id id VARCHAR(5) NOT NULL;<br /><br />　　8、在表中的content后增加一字段：<br /><br />　　ALTER TABLE bbabase ADD leave_time DATETIME NOT NULL AFTER</div></div><div class="entry-tags"><strong>Tags:</strong><a href="http://sk2.com/tag/命令/">命令</a>,<a href="http://sk2.com/tag/sql/">sql</a></div></div><ul id="flip2" class="flip"><li>Newer:<a href="http://sk2.com/post/128.html">MYSQL常用SQL命令（3）</a></li><li>Older:<a href="http://sk2.com/post/126.html">常用sql命令列表</a></li></ul></div>
<div id="footer"><div><a rel="nofollow" class="admin" href="http://sk2.com/login"><small>ADMIN</small></a><address>&copy; 2010 <a href='http://sk2.com/'>blog.sk80.com</a></address></div></div></div></div><script type="text/javascript" src="http://sk2.com/include/js/resize.js"></script><script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">try {var pageTracker = _gat._getTracker("UA-5695529-2");pageTracker._trackPageview();} catch(err) {}</script></body></html>

<script language="javascript" type="text/javascript" src="http://js.users.51.la/3688801.js"></script>
<noscript><a href="http://www.51.la/?3688801" target="_blank"><img alt="&#x6211;&#x8981;&#x5566;&#x514D;&#x8D39;&#x7EDF;&#x8BA1;" src="http://img.users.51.la/3688801.asp" style="border:none" /></a></noscript>