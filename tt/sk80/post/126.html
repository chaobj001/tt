<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="generator" content="blog.sk80.com" /><meta name="keywords" content="常用sql命令列表:Mysql,命令 sql " /><meta name="description" content="常用sql命令列表,常用sql 命令(2),Linux 任务控制的几个技巧( &, [ctrl]-z, jobs, fg, bg, kill)" /><meta name="author" content="4kychao" /><link rel="stylesheet" type="text/css" href="http://sk2.com/templates/default/style.css" /><title>常用sql命令列表</title></head><body><div id="wrapper"><div id="header"><div id="header-inner"><p class="sitename">blog.sk80.com</p><div class="description">等我有钱了, 咱买棒棒糖, 买2 根, 1 根 你看着我吃, 另1根 我吃给你看。</div><div class="menu"><ul><li class="current_page"><a rel="nofollow" href="/">日志</a></li><!--li><a href="#">About</a></li--></ul></div></div></div><div id="wrapper-inner"><p id="topic-path"><a href="/" rel="nofollow">Home</a>&gt;<a href="http://sk2.com/category/mysql/">Mysql</a>&gt;<strong class="current">常用sql命令列表</strong></p><ul id="flip1" class="flip"><li class="newer"><a title="常用sql 命令(2)" href="http://sk2.com/post/127.html" rel="nofollow">Newer</a></li><li class="older"><a title="Linux 任务控制的几个技巧( &, [ctrl]-z, jobs, fg, bg, kill)" href="http://sk2.com/post/125.html" rel="nofollow">Older</a></li></ul><div id="detail"><div class="post"><h1>常用sql命令列表</h1><ul class="info"><li class="date">2010年 03月24日  00:02</li><li class="category"><a href="http://sk2.com/category/mysql/">Mysql</a></li></ul><div class="textbody"><span style="font-family:Verdana;"><span style="font-family:Verdana;color: rgb(0, 0, 0);"></span></span><p><span style="font-family:Verdana;">--SQL常用命令<br /><br /></span><span style="font-family:Verdana;">--数据的增删改查<br /><br /></span><span style="font-family:Verdana;">&nbsp;&nbsp;--增加数据（插入数据）<br /><br />&nbsp;&nbsp;&nbsp;insert into [表名]([字段],[字段]..) values(值,值,值..) --按需要字段填写<br /><br />&nbsp;&nbsp;&nbsp;insert into [表名] values(值,值,值..) --插入全部字段,自动增长列不写</span></p><br /><p><span style="font-family:Verdana;">&nbsp;&nbsp;--删除数据（记得有外键先删除主键表里的相应内容）<br /><br />&nbsp;&nbsp;&nbsp;--删除表里的内容<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;delete from [表名] <br /><br />&nbsp;&nbsp;&nbsp;--要是想删某一行就加where条件<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;delete from [表名] where [字段]=值</span></p><br /><p><span style="font-family:Verdana;">&nbsp;&nbsp;--修改数据（更新数据）<br /><br />&nbsp;&nbsp;&nbsp;--修改整个表内的数据<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;update [表名] set [字段]=值 <br /><br />&nbsp;&nbsp;&nbsp;--要是想修改某一行就加where条件<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;update [表名] set [字段1]=值1 where [字段2]=值2</span></p><br /><p><span style="font-family:Verdana;">&nbsp;&nbsp;--查询<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;select [字段],[字段] from [表名]<br /><br />&nbsp;&nbsp;&nbsp;--条件查询<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;select [字段],[字段] from [表名] where [字段]=值</span></p><br /><p><span style="font-family:Verdana;">&nbsp;&nbsp;&nbsp;--升降序(一般加在查询语句末尾)<br /><br />&nbsp;&nbsp;&nbsp;--升序(默认)<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;order by [字段] asc<br /><br />&nbsp;&nbsp;&nbsp;--降序<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;order by [字段] desc<br /><br />&nbsp;&nbsp;&nbsp;--例子<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;select [字段],[字段] from [表名] order by [字段] desc</span></p><br /><span style="font-family:Verdana;"><br /></span><p><span style="font-family:Verdana;"><br /><br />--设置使用的数据库<br /><br />use [数据库名] </span></p><br /><p><span style="font-family:Verdana;">--建立命令<br /><br />&nbsp;--建立数据库<br /><br />&nbsp;&nbsp;&nbsp;create database [数据库名] <br /><br />&nbsp;&nbsp;&nbsp;on<br /><br />&nbsp;&nbsp;&nbsp;(--数据库信息<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;NAME='aaa', --逻辑名称aaa<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;FILENAME='d:\bbb.mdf', --物理名称bbb(写全路径)<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;SIZE=5mb, --数据库初始大小<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;MAXSIZE=100mb, --增长的最大值<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;FILEGROWTH=15%, --增长率<br /><br />&nbsp;&nbsp;&nbsp;)<br /><br />&nbsp;&nbsp;&nbsp;log on<br /><br />&nbsp;&nbsp;&nbsp;(--日志信息<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;NAME='aaa', --逻辑名称aaa<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;FILENAME='d:\bbb.ldf', --物理名称bbb(写全路径)<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;SIZE=2mb, --数据库初始大小<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;FILEGROWTH=1mb, --增长率 <br /><br />&nbsp;&nbsp;&nbsp;)<br /><br />&nbsp;&nbsp;&nbsp;<br /><br />&nbsp;--建立表<br /><br />&nbsp;&nbsp;&nbsp;create table [表名]<br /><br />&nbsp;&nbsp;&nbsp;(<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;--[字段] [数据类型] [列的特征],<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;id int identity(1,1) not null,--identity(1,1) 是自动增长(起始值，递增值) ,not null 是不许为空(默认允许为空)<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;name varchar(20) not null,<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;)<br /><br />&nbsp;--给表添加约束<br /><br />&nbsp;&nbsp;&nbsp;alter table [表名]<br /><br />&nbsp;&nbsp;&nbsp;add constraint [约束名] <br /><br />&nbsp;&nbsp;--添加主键(pk) PriMary key([字段名]) <br /><br />&nbsp;&nbsp; &nbsp;--唯一约束(uq) Unique ([字段名])<br /><br />&nbsp;&nbsp; &nbsp;--默认约束(df) default('默认文字') for [字段名]<br /><br />&nbsp;&nbsp; &nbsp;--检查约束(ck) check([字段名] between 15 and 40) --填写的数字在15-40之间<br /><br />&nbsp;&nbsp; &nbsp;--外键约束(fk) foreign key([字段名]) references [表名]([字段名])</span></p><br /><p><span style="font-family:Verdana;"><br /><br />--删除数据库<br /><br />&nbsp;--exists检查是否存在<br /><br />&nbsp;&nbsp;&nbsp;if exists(select * from sysdatabases where name = '[要删除的数据库名]')<br /><br />&nbsp;&nbsp;&nbsp;drop database [要删除的数据库名]</span></p><br /><p><span style="font-family:Verdana;">&nbsp;&nbsp;&nbsp;if exists(select * from sysobjects where name = '[要删除的储存过程名]')<br /><br />&nbsp;&nbsp;&nbsp;drop database [要删除的储存过程名]</span></p><br /><p><span style="font-family:Verdana;">--变量的使用 (声明和使用要一起进行不然会找不到变量)<br /><br />&nbsp;&nbsp;declare @[变量名] [数据类型]<br /><br />&nbsp; --如 declare @name varchar(8)<br /><br />&nbsp;&nbsp;&nbsp;declare @age int</span></p><br /><p><span style="font-family:Verdana;">&nbsp;--变量赋值 <br /><br />&nbsp;&nbsp;set @name =值<br /><br />&nbsp;&nbsp;select @name =值</span></p><br /><p><span style="font-family:Verdana;">&nbsp;&nbsp;--例子 <br /><br />&nbsp;&nbsp;&nbsp;&nbsp;--查询信息 查找张三的信息<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;declare @name varchar(8)<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set @name = '张三' <br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select * from [表名] where [字段] = @name<br /><br />&nbsp;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;--赋值查询 查询与张三同龄的人<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;declare @name varchar(8)<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;declare @age int <br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set @name = '张三' <br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select @age = [字段] from [表名] where [字段]=@name<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select * from [表名] where [字段]=@age</span></p><br /><p><span style="font-family:Verdana;"><br /><br />&nbsp;--全局变量 (两个@)<br /><br />&nbsp;&nbsp;@@error&nbsp; 最后一个T-SQL错误的错误号<br /><br />&nbsp;&nbsp;@@identity 最后一次插入的标识值<br /><br />&nbsp;&nbsp;@@rowcount 上一个sql语句影响行数</span></p><br /><p><span style="font-family:Verdana;"><br /><br />--事务<br /><br />&nbsp;--开始 <br /><br />&nbsp;&nbsp;begin transaction<br /><br />&nbsp;--提交 <br /><br />&nbsp;&nbsp;commit transaction<br /><br />&nbsp;--回滚 <br /><br />&nbsp;&nbsp;rollback transaction</span></p><br /><p><span style="font-family:Verdana;">&nbsp;--例子<br /><br />&nbsp;&nbsp;&nbsp;begin transaction<br /><br />&nbsp;&nbsp;&nbsp;declare @errorsum int --纪录错误<br /><br />&nbsp;&nbsp;&nbsp;@errorsum = 0 　　　--初始化没有错误<br /><br />&nbsp;&nbsp;&nbsp;--SQL语句<br /><br />&nbsp;&nbsp;&nbsp;set @errorsum=@errorsum+@@error --累计是否出错<br /><br />&nbsp;&nbsp;&nbsp;--SQL语句<br /><br />&nbsp;&nbsp;&nbsp;set @errorsum=@errorsum+@@error<br /><br />&nbsp;&nbsp;&nbsp;--SQL语句<br /><br />&nbsp;&nbsp;&nbsp;set @errorsum=@errorsum+@@error<br /><br />&nbsp;&nbsp;&nbsp;if @errorsum &lt;&gt;0 --如果有错<br /><br />&nbsp;&nbsp;&nbsp; &nbsp;begin<br /><br />&nbsp; &nbsp;&nbsp;&nbsp;rollback transaction<br /><br />&nbsp;&nbsp;&nbsp; &nbsp;end<br /><br />&nbsp;&nbsp;&nbsp;else<br /><br />&nbsp;&nbsp;&nbsp; &nbsp;begin<br /><br />&nbsp; &nbsp;&nbsp;&nbsp;commit transaction<br /><br />&nbsp;&nbsp;&nbsp; &nbsp;end<br /><br />&nbsp;&nbsp;&nbsp;GO</span></p><br /><p><span style="font-family:Verdana;">--储存过程<br /><br />&nbsp;--建立<br /><br />&nbsp;&nbsp;&nbsp;create procedure [储存过程名]<br /><br />&nbsp;&nbsp;&nbsp; as<br /><br />&nbsp; &nbsp;declare @xx int ,<br /><br />&nbsp; &nbsp;declare @yy varchar(8) output (带有output为输出参数，否则视为输入参数)<br /><br />&nbsp; &nbsp;--SQL语句<br /><br />&nbsp; &nbsp;--SQL语句<br /><br />&nbsp; &nbsp;--SQL语句<br /><br />&nbsp; &nbsp;select @yy=值 ...<br /><br />&nbsp;&nbsp;&nbsp; GO<br /><br />&nbsp;--调用储存过程<br /><br />&nbsp;&nbsp; --无参数<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;exec [储存过程名]&nbsp;&nbsp; <br /><br />&nbsp;&nbsp; --有参数(顺序不能变，变量在储存过程内部的值为默认值)<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;exec [储存过程名] @xx=[参数],@yy=[参数] <br /><br />&nbsp;&nbsp; --有输出参<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;declare @yy varchar(8)<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;exec [储存过程名] 值,@yy output</span></p></div><div class="entry-tags"><strong>Tags:</strong><a href="http://sk2.com/tag/命令/">命令</a>,<a href="http://sk2.com/tag/sql/">sql</a></div></div><ul id="flip2" class="flip"><li>Newer:<a href="http://sk2.com/post/127.html">常用sql 命令(2)</a></li><li>Older:<a href="http://sk2.com/post/125.html">Linux 任务控制的几个技巧( &, [ctrl]-z, jobs, fg, bg, kill)</a></li></ul></div>
<div id="footer"><div><a rel="nofollow" class="admin" href="http://sk2.com/login"><small>ADMIN</small></a><address>&copy; 2010 <a href='http://sk2.com/'>blog.sk80.com</a></address></div></div></div></div><script type="text/javascript" src="http://sk2.com/include/js/resize.js"></script><script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">try {var pageTracker = _gat._getTracker("UA-5695529-2");pageTracker._trackPageview();} catch(err) {}</script></body></html>

<script language="javascript" type="text/javascript" src="http://js.users.51.la/3688801.js"></script>
<noscript><a href="http://www.51.la/?3688801" target="_blank"><img alt="&#x6211;&#x8981;&#x5566;&#x514D;&#x8D39;&#x7EDF;&#x8BA1;" src="http://img.users.51.la/3688801.asp" style="border:none" /></a></noscript>