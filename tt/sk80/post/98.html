<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="generator" content="blog.sk80.com" /><meta name="keywords" content="linux下安装MySQL:Mysql,MySQL linux " /><meta name="description" content="linux下安装MySQL,mysql安装笔记,mysql中导出数据" /><meta name="author" content="4kychao" /><link rel="stylesheet" type="text/css" href="http://sk2.com/templates/default/style.css" /><title>linux下安装MySQL</title></head><body><div id="wrapper"><div id="header"><div id="header-inner"><p class="sitename">blog.sk80.com</p><div class="description">等我有钱了, 咱买棒棒糖, 买2 根, 1 根 你看着我吃, 另1根 我吃给你看。</div><div class="menu"><ul><li class="current_page"><a rel="nofollow" href="/">日志</a></li><!--li><a href="#">About</a></li--></ul></div></div></div><div id="wrapper-inner"><p id="topic-path"><a href="/" rel="nofollow">Home</a>&gt;<a href="http://sk2.com/category/mysql/">Mysql</a>&gt;<strong class="current">linux下安装MySQL</strong></p><ul id="flip1" class="flip"><li class="newer"><a title="mysql安装笔记" href="http://sk2.com/post/99.html" rel="nofollow">Newer</a></li><li class="older"><a title="mysql中导出数据" href="http://sk2.com/post/97.html" rel="nofollow">Older</a></li></ul><div id="detail"><div class="post"><h1>linux下安装MySQL</h1><ul class="info"><li class="date">2010年 03月20日  16:20</li><li class="category"><a href="http://sk2.com/category/mysql/">Mysql</a></li></ul><div class="textbody">你必须执行基本的指令安装MySQL源码包（一个未解包的&nbsp;tar&nbsp;文件）：成为&nbsp;root,&nbsp;用su&nbsp;命令&nbsp;<br /><br />----------------------------------------------------------------&nbsp;<br />$&nbsp;su&nbsp;<br />---------------------------------------------------------------&nbsp;<br /><br />改变路径进入安装文件目录。&nbsp;(使用&nbsp;/tmp/download/)&nbsp;<br /><br />--------------------------------------------------------------------------------&nbsp;<br />#&nbsp;cd&nbsp;/tmp/download/&nbsp;<br />--------------------------------------------------------------------------------&nbsp;<br /><br />用下列命令展开文件。&nbsp;<br /><br />--------------------------------------------------------------------------------&nbsp;<br />#&nbsp;gunzip&nbsp;-d&nbsp;-c&nbsp;mysql-3.22.xx.tar.gz&nbsp;|&nbsp;tar&nbsp;xvf&nbsp;<br />--------------------------------------------------------------------------------&nbsp;<br /><br />进入新目录.&nbsp;这在解压过程中被创建。&nbsp;<br /><br />--------------------------------------------------------------------------------&nbsp;<br />#&nbsp;cd&nbsp;mysql-3.22.xx&nbsp;<br />--------------------------------------------------------------------------------&nbsp;<br /><br />现在可以对为MySQL服务器运行"configure"指令。你可以在执行configure命令时指定很多选项。使用configure&nbsp;–help，可以帮助你了解所有配置时的选项。选择--prefix指定直接安装路径。Configure将检查你的编译器和其他一些东西。如果发现错误，可以通过查看config.cache来检查。&nbsp;<br /><br /><br />--------------------------------------------------------------------------------&nbsp;<br />#&nbsp;configure&nbsp;--prefix=/usr/local/mysql&nbsp;<br />--------------------------------------------------------------------------------&nbsp;<br /><br />在完成&nbsp;Config&nbsp;后，通过执行下面命令，可以得到实际二进制文件。&nbsp;<br /><br />--------------------------------------------------------------------------------&nbsp;<br />#&nbsp;make&nbsp;<br />--------------------------------------------------------------------------------&nbsp;<br /><br />现在可以准备安装所有的二进制文件。&nbsp;运行下列指令在configure&nbsp;–prefix选择的目录下安装二进制文件。&nbsp;<br /><br />--------------------------------------------------------------------------------&nbsp;<br />#&nbsp;make&nbsp;install&nbsp;<br />--------------------------------------------------------------------------------&nbsp;<br /><br />安装完二进制文件后,&nbsp;就可以创建mysql表，该表可以规定使用权限。&nbsp;<br /><br />--------------------------------------------------------------------------------&nbsp;<br />#&nbsp;scripts/mysql_install_db&nbsp;<br />#&nbsp;cd&nbsp;/usr/local/mysql/bin&nbsp;<br />#&nbsp;./safe_mysqld&nbsp;&amp;&nbsp;<br />#&nbsp;./mysqladmin&nbsp;-u&nbsp;root&nbsp;password&nbsp;ew-password&nbsp;<br /><br />--------------------------------------------------------------------------------&nbsp;<br /><br />注意:&nbsp;/usr/local/mysql&nbsp;是选择安装MySQL服务器的路径.&nbsp;你也可以安装在其它路径。&nbsp;<br /><br />为了确保MySQL能正常工作，需要运行一些简单的测试.&nbsp;如果输出结果:&nbsp;BINDIR&nbsp;=&nbsp;/usr/local/mysql/bin，就证明MySQL工作正常.&nbsp;BINDIR&nbsp;的值与上面选择的prefix&nbsp;选项有关。&nbsp;<br /><br /><br />--------------------------------------------------------------------------------&nbsp;<br /><br />#&nbsp;BINDIR/mysqlshow&nbsp;-p&nbsp;<br />+---------------+&nbsp;<br />|&nbsp;Databases&nbsp;|&nbsp;<br />+---------------+&nbsp;<br />|&nbsp;mysql&nbsp;|&nbsp;<br />+---------------+&nbsp;<br /><br /><br />--------------------------------------------------------------------------------&nbsp;<br /><br />一旦你安装了MySQL,&nbsp;它将会自动生成两个数据库。一个用于管理用户、主机和服务器数据库权限。另一个是测试数据库（test&nbsp;database）。我们可以使用测试数据库。&nbsp;但是，我们想简单快捷的向你介绍MySQL中一些可使用的指令的概貌。这还可以确保&nbsp;root&nbsp;被设置为能够完全访问服务器，例如:&nbsp;root可以允许创建数据库、表单等..&nbsp;所以我们将创建一个test2数据库用于以后的测试。在通过指令进入MySQL前，系统将提示输入新创建的root口令。&nbsp;应该记得你已改过&nbsp;root的口令了。&nbsp;<br /><br />--------------------------------------------------------------------------------&nbsp;<br /><br />#&nbsp;mysql&nbsp;-u&nbsp;root&nbsp;-p&nbsp;<br />mysql&gt;show&nbsp;databases;&nbsp;<br />+----------------+&nbsp;<br />|&nbsp;Database&nbsp;|&nbsp;<br />+----------------+&nbsp;<br />|&nbsp;mysql&nbsp;|&nbsp;<br />|&nbsp;test&nbsp;|&nbsp;<br />+----------------+&nbsp;<br />mysql&gt;create&nbsp;database&nbsp;test2;&nbsp;<br />Query&nbsp;OK,&nbsp;1&nbsp;row&nbsp;affected&nbsp;(0.00&nbsp;sec)&nbsp;<br /><br />--------------------------------------------------------------------------------&nbsp;<br /><br />按照下面两段代码，选择使用新的数据库，并创建一个名称为tst_tbl的表，&nbsp;它有两个字段。第一个字段（field&nbsp;1）为id&nbsp;字段，通过它可以看到记录的id号。从本质上看，这只是一列纯数字。第二个字段为名称字段，在其中可以存储书的名称。这些字段的格式为：&nbsp;field&nbsp;1&nbsp;(id)&nbsp;为长度为3的整数型(int)，&nbsp;field&nbsp;2&nbsp;(name)为长度为50的字符串型(char)。&nbsp;我们对id的赋值可以对数据查找和标引。&nbsp;<br /><br /><br />--------------------------------------------------------------------------------&nbsp;<br /><br /><br />mysql&gt;;&nbsp;use&nbsp;test2;&nbsp;<br />Database&nbsp;changed&nbsp;<br />mysql&gt;;&nbsp;CREATE&nbsp;TABLE&nbsp;books&nbsp;(&nbsp;id&nbsp;int(3)&nbsp;not&nbsp;null&nbsp;<br />-&gt;;&nbsp;auto_increment,&nbsp;name&nbsp;char(50)&nbsp;not&nbsp;null,&nbsp;<br />-&gt;;&nbsp;unique(id),&nbsp;primary&nbsp;key(id));&nbsp;<br />Query&nbsp;OK,&nbsp;0&nbsp;rows&nbsp;affected&nbsp;(0.00&nbsp;sec)&nbsp;<br /><br />--------------------------------------------------------------------------------&nbsp;<br /><br />现在用下面命令检查库是否正确。&nbsp;<br /><br />--------------------------------------------------------------------------------&nbsp;<br /><br />mysql&gt;show&nbsp;tables;&nbsp;<br />+---------------------+&nbsp;<br />|&nbsp;Tables&nbsp;in&nbsp;test2&nbsp;|&nbsp;<br />+---------------------+&nbsp;<br />|&nbsp;books&nbsp;|&nbsp;<br />+---------------------+&nbsp;<br />1&nbsp;row&nbsp;in&nbsp;set&nbsp;(0.00&nbsp;sec)&nbsp;<br /><br />mysql&gt; describe&nbsp;books;&nbsp;<br />+-------+-------------+------+------+----------+----------------+&nbsp;<br />|&nbsp;Field&nbsp;|&nbsp;Type&nbsp;|&nbsp;Null&nbsp;|&nbsp;Key&nbsp;|&nbsp;Default&nbsp;|&nbsp;Extra&nbsp;|&nbsp;<br />+-------+-------------+------+------+----------+----------------+&nbsp;<br />|&nbsp;id&nbsp;|&nbsp;int(3)&nbsp;|&nbsp;|&nbsp;PRI&nbsp;|&nbsp;0&nbsp;|&nbsp;auto_increment&nbsp;|&nbsp;<br />|&nbsp;name&nbsp;|&nbsp;char(50)&nbsp;|&nbsp;|&nbsp;<br />+-------+-------------+------+------+----------+----------------+&nbsp;<br />2&nbsp;rows&nbsp;in&nbsp;set&nbsp;(0.00&nbsp;sec)&nbsp;<br /><br /><br />--------------------------------------------------------------------------------&nbsp;<br /><br />注意：describe指令基本描绘出表的布局。&nbsp;好酷呀!&nbsp;<br />OK,&nbsp;下面介绍一些真正有用的SQL指令：如何在数据库中插入和选择数据。现在可以向新建表中加入几条记录。需要记住，这些只是书籍名称的简单记录，但当你对SQL有足够的经验就可以建立大型电子商务站点的复杂数据库。让我们创建两个假想的书籍的记录。一条记录是"PHP&nbsp;4&nbsp;Newbies"书的名称，另一条记录为Linux下一个有用的书"Red&nbsp;Hat&nbsp;Linux&nbsp;6&nbsp;Server"的名称，由Mohammed&nbsp;J.&nbsp;Kabir著。&nbsp;<br /><br /><br />--------------------------------------------------------------------------------&nbsp;<br /><br />mysql&gt; INSERT&nbsp;INTO&nbsp;books&nbsp;(name)&nbsp;values(PHP&nbsp;4&nbsp;Newbies);&nbsp;<br />Query&nbsp;OK,&nbsp;1&nbsp;row&nbsp;affected&nbsp;(0.00&nbsp;sec)&nbsp;<br />mysql&gt; INSERT&nbsp;INTO&nbsp;books&nbsp;(name)&nbsp;values(Red&nbsp;Hat&nbsp;Linux&nbsp;6&nbsp;Server);&nbsp;<br />Query&nbsp;OK,&nbsp;1&nbsp;row&nbsp;affected&nbsp;(0.00&nbsp;sec)&nbsp;<br /><br /><br />--------------------------------------------------------------------------------&nbsp;<br /><br />现在检查一下新的记录，并熟悉一下select指令。&nbsp;<br /><br /><br />--------------------------------------------------------------------------------&nbsp;<br /><br />mysql&gt;SELECT&nbsp;*&nbsp;from&nbsp;books;&nbsp;<br />+----+----------------------------------+&nbsp;<br />|&nbsp;id&nbsp;|&nbsp;name&nbsp;|&nbsp;<br />+----+----------------------------------+&nbsp;<br />|&nbsp;1&nbsp;|&nbsp;PHP&nbsp;for&nbsp;Newbies&nbsp;|&nbsp;<br />|&nbsp;2&nbsp;|&nbsp;Red&nbsp;Hat&nbsp;Linux&nbsp;6&nbsp;Server&nbsp;|&nbsp;<br />+----+----------------------------------+&nbsp;<br />2&nbsp;rows&nbsp;in&nbsp;set&nbsp;(0.00&nbsp;sec)&nbsp;<br /><br /><br />--------------------------------------------------------------------------------&nbsp;<br /><br />这样MySQL服务器的就已经能正常运行了。我们可以继续增加记录，但是在此就没有更多意义了。&nbsp;<br /><br />注意：当你向数据库插入记录时，不必指定id。这是因为你创建id&nbsp;字段有自动增加的选项。&nbsp;<br /><br />下面介绍如何进行快速删除。这只是给你一个简单信息，记住你可以在mysql&nbsp;web站点http://www.mysql.com找到所有你所想要的mysql指令和服务器的信息。&nbsp;<br /><br /><br />--------------------------------------------------------------------------------&nbsp;<br /><br />mysql&gt; delete&nbsp;from&nbsp;books&nbsp;where&nbsp;id=1;&nbsp;<br />Query&nbsp;OK,&nbsp;1&nbsp;row&nbsp;affected&nbsp;(0.00&nbsp;sec)&nbsp;<br /><br />mysql&gt;select&nbsp;*&nbsp;from&nbsp;books;&nbsp;<br />+----+-----------------------------------+&nbsp;<br />|&nbsp;id&nbsp;|&nbsp;name&nbsp;|&nbsp;<br />+----+-----------------------------------+&nbsp;<br />|&nbsp;2&nbsp;|&nbsp;Red&nbsp;Hat&nbsp;Linux&nbsp;6&nbsp;Server&nbsp;|&nbsp;<br />+----+-----------------------------------+&nbsp;<br />1&nbsp;row&nbsp;in&nbsp;set&nbsp;(0.00&nbsp;sec)&nbsp;<br /><br /><br />--------------------------------------------------------------------------------&nbsp;<br /><br /><p>Ok,&nbsp;退出MySQL并继续进行下一步安装。在完成所有安装并且一切工作正常后，你就可以运行MySQL了</p><p align="center"><span style="color:#ff0000;">-----</span><br /></p><p>安装时建议你为MySQL管理创建一个用户和组。由该组用户运行mysql服务器并执行管理任务。（也可以以root身份运行服务器，但是不推荐）<br />&nbsp;&nbsp;&nbsp;&nbsp;第一步创建一个用户来运行服务器。在Solaris和unix下，可以用useradd和groupadd使用工具来完成。取一个名字叫mysql吧。（当然，任何你喜欢的id都可以）所以在做其它事情之前，利用su命令成为root：<br />$&nbsp;su&nbsp;&nbsp;-&nbsp;&nbsp;root<br />$&nbsp;groupadd&nbsp;mysql<br />$&nbsp;useradd&nbsp;-g&nbsp;mysql&nbsp;&nbsp;mysql<br />选择要安装mysql软件的位置，并将当前目录转换到该目录。一般的，将安装到/usr/local,这是MySQL软件的标准安装位置。现在进去，<br />$&nbsp;cd&nbsp;/usr/local<br />解开软件包：<br />$&nbsp;gunzip&nbsp;-c&nbsp;/tmp/mysql&nbsp;-3.23.xx.tar.gz&nbsp;|&nbsp;tar&nbsp;-xf&nbsp;-<br />因为要安装在Solaris服务器上，所以如果安装的是不同版本的tar，例如GNU的tar，则上面的命令将不会起作用。这是要用下面的命令：<br />$&nbsp;gunzip&nbsp;-c&nbsp;/tmp/mysql&nbsp;-3.23.xx.tar.gz&nbsp;|&nbsp;gtar&nbsp;-xf&nbsp;-<br />现在可以查看一下新目录，看是否存在<br />$&nbsp;ls&nbsp;-ld&nbsp;mysql*<br />total&nbsp;&nbsp;1<br />drwxr-xr-x&nbsp;28&nbsp;user&nbsp;user&nbsp;1024&nbsp;Jul&nbsp;18&nbsp;14:29&nbsp;mysql-3.23.x/<br />下一步是创建一个符号链接，以便安装能够指向/usr/local/mysql:<br />$&nbsp;ln&nbsp;-s&nbsp;mysql-3.23.x&nbsp;mysql<br />$&nbsp;ls&nbsp;-ld&nbsp;mysql*<br />就会出现表示连接成功的行来。按照上帖软件安装好后，还有几项配置任务要完成。运行scripts/mysql_install_db创建MySQL许可表：<br />$&nbsp;scripts/mysql_install_db<br />Preparing&nbsp;&nbsp;db&nbsp;talbe<br />Preparing&nbsp;&nbsp;host&nbsp;table<br />Preparing&nbsp;&nbsp;user&nbsp;table<br />Preparing&nbsp;&nbsp;func&nbsp;table<br />Preparing&nbsp;&nbsp;tables_priv&nbsp;table<br />Preparing&nbsp;&nbsp;columns_priv&nbsp;table<br />Installing&nbsp;&nbsp;all&nbsp;prepared&nbsp;tables<br />010726&nbsp;19:40:05&nbsp;&nbsp;./bin/mysqld:&nbsp;Shutdown&nbsp;Complete<br />设置二进制文件的所有权，从而使之归root所有，并属于前面创建的MySQL<br />管理员组（这个例子为mysql）<br />$&nbsp;chown&nbsp;-R&nbsp;root&nbsp;/usr/local/mysql<br />$&nbsp;chgrp&nbsp;&nbsp;-R&nbsp;mysql&nbsp;/usr/local/mysql<br />将数据目录的所有权设置为先前创建的MySQL管理用户<br />$&nbsp;chown&nbsp;-R&nbsp;mysql&nbsp;/usr/local/mysql/data<br />所有权设置完成<br />启动服务器需运行safe_mysqld:<br />$&nbsp;bin/safe_mysqld&nbsp;--usr=mysql&nbsp;&amp;<br />一般要让MySQL在服务器引导时就运行。为此，可以将support-files/mysql.server复制到系统适当的位置就ok了。</p><p align="center"><span style="color:#ff0000;">-----</span></p><p align="left">cd&nbsp;mysql-3.22.xx&nbsp;<br />进去后输入./configure&nbsp;--prefix=/你需要安装的路径/<br />然后再make&nbsp;&nbsp;&nbsp;&nbsp;得到二进制文件<br />安装&nbsp;&nbsp;make&nbsp;install&nbsp;&nbsp;&nbsp;......</p></div><div class="entry-tags"><strong>Tags:</strong><a href="http://sk2.com/tag/MySQL/">MySQL</a>,<a href="http://sk2.com/tag/linux/">linux</a></div></div><ul id="flip2" class="flip"><li>Newer:<a href="http://sk2.com/post/99.html">mysql安装笔记</a></li><li>Older:<a href="http://sk2.com/post/97.html">mysql中导出数据</a></li></ul></div>
<div id="footer"><div><a rel="nofollow" class="admin" href="http://sk2.com/login"><small>ADMIN</small></a><address>&copy; 2010 <a href='http://sk2.com/'>blog.sk80.com</a></address></div></div></div></div><script type="text/javascript" src="http://sk2.com/include/js/resize.js"></script><script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">try {var pageTracker = _gat._getTracker("UA-5695529-2");pageTracker._trackPageview();} catch(err) {}</script></body></html>

<script language="javascript" type="text/javascript" src="http://js.users.51.la/3688801.js"></script>
<noscript><a href="http://www.51.la/?3688801" target="_blank"><img alt="&#x6211;&#x8981;&#x5566;&#x514D;&#x8D39;&#x7EDF;&#x8BA1;" src="http://img.users.51.la/3688801.asp" style="border:none" /></a></noscript>