<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="generator" content="blog.sk80.com" /><meta name="keywords" content="js node:资源,node " /><meta name="description" content="js node,php小偷程序原理,正则替换字符串" /><meta name="author" content="4kychao" /><link rel="stylesheet" type="text/css" href="http://sk2.com/templates/default/style.css" /><title>js node</title></head><body><div id="wrapper"><div id="header"><div id="header-inner"><p class="sitename">blog.sk80.com</p><div class="description">等我有钱了, 咱买棒棒糖, 买2 根, 1 根 你看着我吃, 另1根 我吃给你看。</div><div class="menu"><ul><li class="current_page"><a rel="nofollow" href="/">日志</a></li><!--li><a href="#">About</a></li--></ul></div></div></div><div id="wrapper-inner"><p id="topic-path"><a href="/" rel="nofollow">Home</a>&gt;<a href="http://sk2.com/category/resource/">资源</a>&gt;<strong class="current">js node</strong></p><ul id="flip1" class="flip"><li class="newer"><a title="php小偷程序原理" href="http://sk2.com/post/141.html" rel="nofollow">Newer</a></li><li class="older"><a title="正则替换字符串" href="http://sk2.com/post/139.html" rel="nofollow">Older</a></li></ul><div id="detail"><div class="post"><h1>js node</h1><ul class="info"><li class="date">2010年 03月26日  16:42</li><li class="category"><a href="http://sk2.com/category/resource/">资源</a></li></ul><div class="textbody">javascript节点操作DOMDocument属性和方法 <br /><br />属性:<br /><br />Attributes 存储节点的属性列表(只读)<br />childNodes 存储节点的子节点列表(只读)<br />dataType 返回此节点的数据类型<br />Definition 以DTD或XML模式给出的节点的定义(只读)<br />Doctype 指定文档类型节点(只读)<br />documentElement 返回文档的根元素(可读写)<br />firstChild 返回当前节点的第一个子节点(只读)<br />Implementation 返回XMLDOMImplementation对象<br />lastChild 返回当前节点最后一个子节点(只读)<br />nextSibling 返回当前节点的下一个兄弟节点(只读)<br />nodeName 返回节点的名字(只读)<br />nodeType 返回节点的类型(只读)<br />nodeTypedValue 存储节点值(可读写)<br />nodeValue 返回节点的文本(可读写)<br />ownerDocument 返回包含此节点的根文档(只读)<br />parentNode 返回父节点(只读)<br />Parsed 返回此节点及其子节点是否已经被解析(只读)<br />Prefix 返回名称空间前缀(只读)<br />preserveWhiteSpace 指定是否保留空白(可读写)<br />previousSibling 返回此节点的前一个兄弟节点(只读)<br />Text 返回此节点及其后代的文本内容(可读写)<br />url 返回最近载入的XML文档的URL(只读)<br />Xml 返回节点及其后代的XML表示(只读)<br /><br />方法:<br /><br />appendChild 为当前节点添加一个新的子节点,放在最后的子节点后<br />cloneNode 返回当前节点的拷贝<br />createAttribute 创建新的属性<br />createCDATASection 创建包括给定数据的CDATA段<br />createComment 创建一个注释节点<br />createDocumentFragment 创建DocumentFragment对象<br />createElement 创建一个元素节点<br />createEntityReference 创建EntityReference对象<br />createNode 创建给定类型,名字和命名空间的节点<br />createPorcessingInstruction 创建操作指令节点<br />createTextNode 创建包括给定数据的文本节点<br />getElementsByTagName 返回指定名字的元素集合<br />hasChildNodes 返回当前节点是否有子节点<br />insertBefore 在指定节点前插入子节点<br />Load 导入指定位置的XML文档<br />loadXML 导入指定字符串的XML文档<br />removeChild 从子结点列表中删除指定的子节点<br />replaceChild 从子节点列表中替换指定的子节点<br />Save 把XML文件存到指定节点<br />selectNodes 对节点进行指定的匹配,并返回匹配节点列表<br />selectSingleNode 对节点进行指定的匹配,并返回第一个匹配节点<br />transformNode 使用指定的样式表对节点及其后代进行转换<br />transformNodeToObject 使用指定的样式表将节点及其后代转换为对象<br /><br /><br />*********************************<br /><br /><br />DOM(文档对象模型)<br />DOM(文档对象模型)概念的推出,这个API使HTML如虎添翼,但是有些学DHTML的朋友还是有些困挠,只是因为目前的手册的书写不太科学,是按字母<br /><br />来分的,不便查阅.其实DOM中最关键是要掌握节点与节点之间的关系(between node andnode),想学习DHTML中的DOM千万不要从头到尾地看遍所<br /><br />有的属性和方法,你有三国时张松的"过目不忘"的本领吗?没有吧,那就听我分析一下：<br /><br />其实DOM教给我们的就是一个层次结构，你可以理解为一个树形结构，就像我们的目录一样，一个根目录，根目录下有子目录，子目录下还有子<br /><br />目录……<br /><br />根节点：<br /><br /><br />DOM把层次中的每一个对象都称之为节点（NODE），以HTML超文本标记语言为例：整个文档的一个根就是&lt;html&gt;,在DOM中可以使用<br /><br />document.documentElement来访问它，它就是整个节点树的根节点（ROOT）<br /><br />子节点：<br /><br />一般意义上的节点，根节点以下最大子节点就是主文档区&lt;body&gt;了，要访问到body标签，在脚本中应该写：<br />document.body<br />body区以内所有的文本及HTML标签都是文档的节点，分别称为文本节点、元素节点（或者叫标签节点），大家知道HTML说到底只是文本而矣，<br /><br />不论怎么样的网页必然由这两个节点组成，也只能由这两个节点组成<br /><br />节点之间的关系：<br /><br />节点之间的关系也是DOM中最重要的一个关节，如何正确地引用到节点对象，一定要清楚节点树各个节点的相互描述方式，在DHTML里，<br /><br />Javascript脚本就用了各个节点对象的一整套方法和属性去描述另外的节点对象。<br /><br /><br />节点的绝对引用：<br />返回文档的根节点<br />document.documentElement<br />返回当前文档中被击活的标签节点<br />document.activeElement<br />返回鼠标移出的源节点<br />event.fromElement<br />返回鼠标移入的源节点<br />event.toElement<br />返回激活事件的源节点<br />event.srcElement<br /><br />节点的相对引用：(设当前对节点为node)<br />返回父节点<br />node.parentNode<br />node.parentElement<br />返回子节点集合（包含文本节点及标签节点）<br />node.childNodes<br />返回子标签节点集合<br />node.children<br />返回子文本节点集合<br />node.textNodes<br />返回第一个子节点<br />node.firstChild<br />返回最后一个子节点<br />node.lastChild<br />返回同属下一个节点<br />node.nextSibling<br />返回同属上一个节点<br />node.previousSibling<br /><br />节点的各种操作：(设当前的节点为node)<br /><br />新增标签节点句柄：<br />document.createElement(sNode) //参数为要新添的节点标签名，例：newnode=document.createElement("div");<br /><br />1、添加节点：<br />追加子节点：<br />node.appendChild(oNode) //oNode为生新增的节点句柄,例：node.appendChild(newnode)<br />应用标签节点<br />node.applyElment(oNode,sWhere)//oNode为生新增的节点句柄,sWhere有两个值：outside / inside，加在当前节点外面还是里面<br />插入节点<br />inode.insertBefore()<br />node.insertAdjacentElement()<br />node.replaceAdjacentText()<br /><br />2、修改节点：<br /><br />删除节点<br />node.remove()<br />node.removeChild()<br />node.removeNode()<br /><br />替换节点<br />node.replaceChild()<br />node.replaceNode()<br />node.swapNode()<br /><br /><br />2、复制节点：<br />返回复制复制节点引用<br />node.cloneNode(bAll)//bAll为布尔值，true / false 是否克隆该节点所有子节点<br /><br />3、节点信息<br />是否包含某节点<br />node.contains()<br />是否有子节点<br />node.hasChildNodes()<br /><br />*******************************************************<br /><br />下面为javascript操作xml<br />&lt;script language="JavaScript"&gt;<br />&lt;!--<br />var doc = new ActiveXObject("Msxml2.DOMDocument"); //ie5.5+,CreateObject("Microsoft.XMLDOM")<br /><br /><br />//加载文档<br />//doc.load("b.xml");<br /><br />//创建文件头<br />var p = doc.createProcessingInstruction("xml","version='1.0' encoding='gb2312'");<br /><br />//添加文件头<br />doc.appendChild(p);<br /><br />//用于直接加载时获得根接点<br />//var root = doc.documentElement;<br /><br />//两种方式创建根接点<br />// var root = doc.createElement("students");<br />var root = doc.createNode(1,"students","");<br /><br />//创建子接点<br />var n = doc.createNode(1,"ttyp","");<br /><br />//指定子接点文本<br />//n.text = " this is a test";<br /><br />//创建孙接点<br />var o = doc.createElement("sex");<br />o.text = "男"; //指定其文本<br /><br />//创建属性<br />var r = doc.createAttribute("id");<br />r.value="test";<br /><br />//添加属性<br />n.setAttributeNode(r);<br /><br />//创建第二个属性<br />var r1 = doc.createAttribute("class");<br />r1.value="tt";<br /><br />//添加属性<br />n.setAttributeNode(r1);<br /><br />//删除第二个属性<br />n.removeAttribute("class");<br /><br />//添加孙接点<br />n.appendChild(o);<br /><br />//添加文本接点<br />n.appendChild(doc.createTextNode("this is a text node."));<br /><br />//添加注释<br />n.appendChild(doc.createComment("this is a comment\n"));<br /><br />//添加子接点<br />root.appendChild(n);<br /><br />//复制接点<br />var m = n.cloneNode(true);<br /><br />root.appendChild(m);<br /><br />//删除接点<br />root.removeChild(root.childNodes(0));<br /><br />//创建数据段<br />var c = doc.createCDATASection("this is a cdata");<br />c.text = "hi,cdata";<br />//添加数据段<br />root.appendChild(c);<br /><br />//添加根接点<br />doc.appendChild(root);<br /><br />//查找接点<br />var a = doc.getElementsByTagName("ttyp");<br />//var a = doc.selectNodes("//ttyp");<br /><br />//显示改接点的属性<br />for(var i= 0;i&lt;a.length;i++)<br />{<br />alert(a[i].xml);<br />for(var j=0;j&lt;a[i].attributes.length;j++)<br />{<br />alert(a[i].attributes[j].name);<br />}<br />}<br /><br />//修改节点,利用XPATH定位节点<br />var b = doc.selectSingleNode("//ttyp/sex");<br />b.text = "女";<br /><br />//alert(doc.xml);<br /><br />//XML保存（需要在服务端，客户端用FSO）<br />//doc.save();<br /><br />//查看根接点XML<br />if(n)<br />{<br />alert(n.ownerDocument.xml);<br />}<br /><br />//--&gt;<br />&lt;/script&gt; <br /></div><div class="entry-tags"><strong>Tags:</strong><a href="http://sk2.com/tag/node/">node</a></div></div><ul id="flip2" class="flip"><li>Newer:<a href="http://sk2.com/post/141.html">php小偷程序原理</a></li><li>Older:<a href="http://sk2.com/post/139.html">正则替换字符串</a></li></ul></div>
<div id="footer"><div><a rel="nofollow" class="admin" href="http://sk2.com/login"><small>ADMIN</small></a><address>&copy; 2010 <a href='http://sk2.com/'>blog.sk80.com</a></address></div></div></div></div><script type="text/javascript" src="http://sk2.com/include/js/resize.js"></script><script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">try {var pageTracker = _gat._getTracker("UA-5695529-2");pageTracker._trackPageview();} catch(err) {}</script></body></html>

<script language="javascript" type="text/javascript" src="http://js.users.51.la/3688801.js"></script>
<noscript><a href="http://www.51.la/?3688801" target="_blank"><img alt="&#x6211;&#x8981;&#x5566;&#x514D;&#x8D39;&#x7EDF;&#x8BA1;" src="http://img.users.51.la/3688801.asp" style="border:none" /></a></noscript>